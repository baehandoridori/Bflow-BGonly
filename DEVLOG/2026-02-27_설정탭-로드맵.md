# 설정 탭 확장 로드맵 & 구현 계획

> **날짜**: 2026-02-27
> **Phase**: 8 (설정 개인화)
> **상태**: Phase 8-0, 8-1 구현 중

---

## 1. 개요

B flow 설정 탭을 확장하여 사용자에게 개인화된 경험을 제공한다.
현재는 색상 테마 + Google Sheets 연동만 존재. 글자 크기, 단축키, 애니메이션 제어 등을 추가.

### 설정의 의미

설정 탭은 사용자가 B flow를 자신의 작업 환경에 맞게 커스터마이징할 수 있는 중심 허브.
개인화 옵션 제공을 통해:
- 접근성 향상 (글자 크기 조절 → 시력/선호에 맞춤)
- 생산성 향상 (단축키 커스텀 → 자주 쓰는 기능에 빠르게 접근)
- 성능 최적화 (플렉서스 입자 수 조절 → 저사양 PC 배려)
- 사용자 만족감 (개인화된 경험 → 툴에 대한 소유감)

---

## 2. 현재 상태 분석

### 기존 설정 탭 (SettingsView.tsx, 345줄)
- 색상 테마 선택 (6 프리셋 + 커스텀)
- 다크/라이트 모드 토글
- Google Sheets 연동 URL/상태
- 사용 안내

### 타이포그래피 감사 결과
**통일된 타이포그래피 시스템 없음.**

| 클래스 | 사용 횟수 | 사용 맥락 |
|--------|----------|----------|
| `text-xs` (~12px) | ~211회 | 라벨, 캡션, 도움말, 뱃지 |
| `text-sm` (~14px) | ~155회 | 본문, 입력필드, 설명 |
| `text-[11px]` | ~40회 | 뱃지, 탭, 타임스탬프, 코멘트 |
| `text-base` (~16px) | ~14회 | 일반 본문 |
| `text-xl`/`text-lg` | ~21회 | 페이지/섹션 제목 |
| `text-[10px]`/`text-[9px]` | ~8회 | 캘린더 셀, 최소 인디케이터 |

**총 334개+ 인스턴스가 30개+ 파일에 하드코딩됨.**

### 단축키 현황
- **중앙 레지스트리 없음** — 각 컴포넌트에서 인라인 `addEventListener`
- 현재: `Ctrl+Space`(검색), `Ctrl+Alt+U`(관리자), `ESC`(닫기), 화살표키(탐색)

### 플렉서스 애니메이션
- 로그인: 666 파티클, 160px 연결 거리
- 대시보드: 120 파티클, 140px 연결 거리
- 상수로 하드코딩

### 스플래시 화면
- SplashScreen.tsx: 순수 비주얼 (데이터 로딩 안 함)
- App.tsx 로딩 스플래시: 데이터 로드 중 표시

---

## 3. 설정 탭 로드맵 (Phase 8)

### 8-0. 설정 탭 리팩토링 `[진행]`

> 난이도: ●●○ | 좌측 서브탭 + 우측 콘텐츠 구조

- [x] SettingsView.tsx → 레이아웃 셸로 리팩토링
- [x] SettingsSidebar 좌측 네비게이션 컴포넌트
- [x] ThemeSection 분리
- [x] SheetsSection 분리
- [x] GuideSection 분리

### 8-1. 글꼴 크기 커스터마이징 `[진행]`

> 난이도: ●●● | 핵심 기능 + 타이포그래피 시스템 구축

- [x] CSS 변수 시스템 (`--text-scale`, 카테고리별 스케일)
- [x] `typography.ts` 유틸리티 (프리셋, 적용 함수)
- [x] FontSizeSection UI (프리셋 + 슬라이더 + 미리보기)
- [x] App.tsx 초기화 통합
- [x] preferences.json 영속화

**기술적 해결 과제:**
1. CSS 변수 글로벌 오버라이드로 기존 코드 변경 제로
2. 브래킷 크기 (`text-[11px]`) attribute selector로 타겟팅
3. FOUC 방지: theme보다 먼저 fontScale 로드
4. 최대 스케일(1.2x)에서 레이아웃 깨짐 검증

### 8-2. 키보드 단축키 커스텀 `[ ]`

> 난이도: ●●○ | 중앙 레지스트리 + VS Code 스타일 UI

- [ ] 중앙 단축키 매니저 (`shortcutManager.ts`)
- [ ] 기본 단축키 15종 등록 (Ctrl+1~8 네비게이션 등)
- [ ] VS Code 스타일 키바인딩 에디터 UI
- [ ] 충돌 감지 + 녹음 모드
- [ ] 기존 인라인 핸들러 마이그레이션

### 8-3. 플렉서스 애니메이션 제어 `[ ]`

> 난이도: ●○○ | 토글 + 파티클 수 슬라이더

- [ ] 로그인/대시보드 플렉서스 활성화 토글
- [ ] 파티클 수 슬라이더 (로그인: 100-1000, 대시보드: 50-300)
- [ ] 상수 → store 반응형으로 전환
- [ ] 실시간 반영 (디바운싱)

### 8-4. 스플래시 건너뛰기 `[ ]`

> 난이도: ●○○ | boolean 가드만 추가

- [ ] 로딩 스플래시 건너뛰기 토글
- [ ] 랜딩 스플래시 건너뛰기 토글
- [ ] App.tsx 조건 분기

### 8-5. 로그인 자동저장 `[ ]`

> 난이도: ●○○ | 체크박스 + 조건부 세션 저장

- [ ] LoginScreen에 "로그인 유지" 체크박스
- [ ] 설정에서 자동 로그인 토글
- [ ] rememberMe 기본값 true (하위 호환)

### 8-6. 온보딩 가이드 `[ ]` (향후)

> 난이도: ●●○ | 가이드 투어 시스템

- [ ] 사이드바 섹션 순회 팝오버
- [ ] 반응형 하이라이트 + 블러 오버레이
- [ ] 다음/이전/건너뛰기 컨트롤
- [ ] 최초 로그인 자동 트리거

---

## 4. 검증 방법

### 빌드
```bash
npx tsc --noEmit && npx vite build
```

### 기능 체크리스트
- [ ] 설정 탭: 좌측 서브탭 클릭 → 우측 콘텐츠 전환
- [ ] 글꼴 크기: 프리셋 변경 → 미리보기 + 앱 전체 반영
- [ ] 글꼴 크기: 카테고리별 슬라이더 → 독립 조절
- [ ] 글꼴 크기: 앱 재시작 후 저장값 유지
- [ ] 글꼴 크기: 최대 스케일에서 레이아웃 깨짐 없음

### 벤치마킹 레퍼런스
- VS Code: 좌측 서브탭 설정, 키바인딩 에디터
- Figma: 카테고리별 설정, 폰트 크기 드롭다운
- Notion: 프리셋 기반 폰트 크기 (Small/Default/Large)
- Linear: 미니멀 설정, 다크 모드 우선

---

*작성: Claude × 한솔 (Studio JBBJ)*
